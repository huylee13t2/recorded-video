{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/jobs/reactjs/recorded/recorded-video/src/components/RecorderVideo.jsx\";\nimport React from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport red from '@material-ui/core/colors/red';\nimport { ZiggeoRecorder } from 'react-ziggeo';\nimport { Button, Icon } from '@material-ui/core/';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    paper: {\n      padding: theme.spacing.unit * 2,\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    },\n    button: {\n      margin: theme.spacing.unit\n    },\n    leftIcon: {\n      marginRight: theme.spacing.unit\n    },\n    rightIcon: {\n      marginLeft: theme.spacing.unit\n    },\n    iconSmall: {\n      fontSize: 14\n    },\n    icon: {\n      margin: theme.spacing.unit * 2\n    },\n    iconHover: {\n      margin: theme.spacing.unit * 2,\n      '&:hover': {\n        color: red[800]\n      }\n    }\n  };\n};\n\nvar RecorderVideo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RecorderVideo, _React$Component);\n\n  function RecorderVideo(props) {\n    var _this;\n\n    _classCallCheck(this, RecorderVideo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecorderVideo).call(this, props));\n\n    _this.componentWillMount = function () {};\n\n    _this.componentDidMount = function () {\n      // this.child.record();\n      console.log(_this.child);\n    };\n\n    _this.recorderRecording =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('Recorder onRecording');\n              _context.next = 3;\n              return _this.setState({\n                isPlayAudio: true\n              });\n\n            case 3:\n              _context.next = 5;\n              return _this.props.showBackground(true);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.recorderUploaded = function () {\n      console.log('Recorder onUploaded'); // this.setState({ showBg: false });\n    };\n\n    _this.playing = function () {\n      console.log('it\\'s playing, your action here');\n    };\n\n    _this.paused = function () {\n      console.log('it\\'s paused, your action when pause');\n    };\n\n    _this.onUploaded =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                console.log(\"onUploaded\"); // console.log(e)\n                // this.setState({ videoToken: e.video })\n\n                _context2.next = 3;\n                return _this.props.showBackground(false);\n\n              case 3:\n                _context2.next = 5;\n                return _this.setState({\n                  isPlayAudio: false\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.onAttached = function (e) {\n      console.log(\"onAttached\"); // console.log(e)\n      // this.setState({ showBg: true });\n      // this.setState({ isPlayAudio: true })\n    };\n\n    _this.onUploadProgress = function () {\n      console.log(\"onUploadProgress\"); // this.setState({ showBg: true });\n    };\n\n    _this.onLoaded = function (e) {\n      console.log(\"onLoaded\"); // console.log(e)\n    };\n\n    _this.onUploadSelected = function () {\n      console.log(\"onUploadSelected\");\n    };\n\n    _this.onRerecord = function (e) {\n      console.log(\"onRerecord\"); // console.log(e)\n    };\n\n    _this.onManuallySubmitted = function () {\n      console.log(\"onManuallySubmitted\");\n    };\n\n    _this.onRecordingProgress = function () {// console.log(\"onRecordingProgress\")\n      // this.setState({ showBg: true })\n    };\n\n    _this.onAccessForbidden = function () {\n      console.log(\"onAccessForbidden\");\n    };\n\n    _this.onAccessGranted =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\"onAccessGranted\");\n              _context3.next = 3;\n              return _this.props.showBackground(true);\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    _this.onCameraUnresponsive = function () {\n      console.log(\"onCameraUnresponsive\");\n    };\n\n    _this.onVerified = function (e) {\n      console.log(\"onVerified\"); // console.log(e)\n\n      _this.setState({\n        videoToken: e.video\n      });\n\n      _this.props.stopRecorder(e.video);\n    };\n\n    _this.onNoCamera = function () {\n      console.log(\"onNoCamera\");\n    };\n\n    _this.onNoMicrophone = function () {\n      console.log(\"onNoMicrophone\");\n    };\n\n    _this.handleStart = function () {\n      // this.child.play();\n      _this.child.record(); // this.child.upload();\n      // this.child.rerecord();\n      // this.child.stop();\n      // this.child.hidePopup();\n      // this.child.reset();\n\n\n      _this.setState({\n        isStart: true\n      });\n    };\n\n    _this.handlStopRecorder = function () {\n      _this.child.stop();\n\n      console.log(_this.state.videoToken); // this.child.upload();\n\n      _this.props.stopRecorder(_this.state.videoToken);\n    };\n\n    _this.state = {\n      videoToken: null,\n      isStart: false,\n      showBg: false,\n      isPlayAudio: false,\n      srcAudio: null,\n      showAsk: false,\n      isDisabled: false\n    };\n    return _this;\n  }\n\n  _createClass(RecorderVideo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(ZiggeoRecorder, {\n        apiKey: \"ca222df12203cee18e55562941948d8a\" // preventReRenderOnUpdate={false}\n        ,\n        allowscreen: false,\n        allowrecord: true,\n        allowupload: false,\n        onRecording: this.recorderRecording,\n        onUploading: this.recorderUploading,\n        onUploaded: function onUploaded(e) {\n          return _this2.onUploaded(e);\n        },\n        onAttached: function onAttached(e) {\n          return _this2.onAttached(e);\n        },\n        onUploadProgress: this.onUploadProgress,\n        onLoaded: function onLoaded(e) {\n          return _this2.onLoaded(e);\n        },\n        onUploadSelected: this.onUploadSelected,\n        onRerecord: this.onRerecord,\n        onPlaying: function onPlaying(e) {\n          return _this2.onPlaying(e);\n        },\n        onPaused: this.onPaused,\n        onEnded: function onEnded(e) {\n          return _this2.onEnded(e);\n        },\n        onSeek: function onSeek(e) {\n          return _this2.onSeek(e);\n        },\n        onError: function onError(e) {\n          return _this2.onError(e);\n        },\n        onManuallySubmitted: this.onManuallySubmitted,\n        onRecordingProgress: this.onRecordingProgress,\n        onAccessForbidden: this.onAccessForbidden,\n        onAccessGranted: this.onAccessGranted,\n        onCameraUnresponsive: this.onCameraUnresponsive,\n        onVerified: function onVerified(e) {\n          return _this2.onVerified(e);\n        },\n        onNoCamera: this.onNoCamera,\n        onNoMicrophone: this.onNoMicrophone,\n        theme: 'modern',\n        themecolor: 'green',\n        style: {\n          width: \"100%\"\n        },\n        className: \"zigg_recorder\",\n        onRef: function onRef(ref) {\n          return _this2.child = ref;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RecorderVideo;\n}(React.Component);\n\nRecorderVideo.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(RecorderVideo);","map":{"version":3,"sources":["/var/www/html/jobs/reactjs/recorded/recorded-video/src/components/RecorderVideo.jsx"],"names":["React","PropTypes","withStyles","red","ZiggeoRecorder","Button","Icon","styles","theme","root","flexGrow","paper","padding","spacing","unit","textAlign","color","palette","text","secondary","button","margin","leftIcon","marginRight","rightIcon","marginLeft","iconSmall","fontSize","icon","iconHover","RecorderVideo","props","componentWillMount","componentDidMount","console","log","child","recorderRecording","setState","isPlayAudio","showBackground","recorderUploaded","playing","paused","onUploaded","e","onAttached","onUploadProgress","onLoaded","onUploadSelected","onRerecord","onManuallySubmitted","onRecordingProgress","onAccessForbidden","onAccessGranted","onCameraUnresponsive","onVerified","videoToken","video","stopRecorder","onNoCamera","onNoMicrophone","handleStart","record","isStart","handlStopRecorder","stop","state","showBg","srcAudio","showAsk","isDisabled","classes","recorderUploading","onPlaying","onPaused","onEnded","onSeek","onError","width","ref","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport red from '@material-ui/core/colors/red';\nimport { ZiggeoRecorder } from 'react-ziggeo'; import {\n  Button,\n  Icon,\n} from '@material-ui/core/';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  button: {\n    margin: theme.spacing.unit,\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n  rightIcon: {\n    marginLeft: theme.spacing.unit,\n  },\n  iconSmall: {\n    fontSize: 14,\n  },\n  icon: {\n    margin: theme.spacing.unit * 2,\n  },\n  iconHover: {\n    margin: theme.spacing.unit * 2,\n    '&:hover': {\n      color: red[800],\n    },\n  },\n});\n\nclass RecorderVideo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      videoToken: null,\n      isStart: false,\n      showBg: false,\n      isPlayAudio: false,\n      srcAudio: null,\n      showAsk: false,\n      isDisabled: false,\n    }\n  }\n\n  componentWillMount = () => {\n\n  }\n\n  componentDidMount = () => {\n    // this.child.record();\n    console.log(this.child);\n  }\n\n  recorderRecording = async () => {\n    console.log('Recorder onRecording');\n    await this.setState({ isPlayAudio: true });\n    // this.setState({ showBg: true });\n    await this.props.showBackground(true);\n  };\n\n  recorderUploaded = () => {\n    console.log('Recorder onUploaded');\n    // this.setState({ showBg: false });\n  };\n\n  playing = () => {\n    console.log('it\\'s playing, your action here');\n  };\n\n  paused = () => {\n    console.log('it\\'s paused, your action when pause');\n  };\n\n  onUploaded = async e => {\n    console.log(\"onUploaded\")\n    // console.log(e)\n    // this.setState({ videoToken: e.video })\n    await this.props.showBackground(false);\n    await this.setState({ isPlayAudio: false });\n    // this.setState({ showBg: false });\n  }\n\n  onAttached = e => {\n    console.log(\"onAttached\")\n    // console.log(e)\n    // this.setState({ showBg: true });\n    // this.setState({ isPlayAudio: true })\n  }\n\n  onUploadProgress = () => {\n    console.log(\"onUploadProgress\")\n    // this.setState({ showBg: true });\n  }\n\n  onLoaded = e => {\n    console.log(\"onLoaded\")\n    // console.log(e)\n  }\n\n  onUploadSelected = () => {\n    console.log(\"onUploadSelected\")\n  }\n\n  onRerecord = e => {\n    console.log(\"onRerecord\")\n    // console.log(e)\n  }\n\n  // onPlaying = e => {\n  //   console.log(\"onPlaying\")\n  //   // console.log(e)\n  //   this.setState({ showBg: true })\n  // }\n\n  // onPaused = () => {\n  //   console.log(\"onPaused\")\n  // }\n\n  // onEnded = e => {\n  //   console.log(\"onEnded\")\n  //   // console.log(e)\n  //   this.setState({ showBg: false })\n  // }\n\n  // onSeek = e => {\n  //   console.log(\"onSeek\")\n  //   // console.log(e)\n  // }\n\n  // onError = e => {\n  //   console.log(\"onError\")\n  //   // console.log(e)\n  // }\n\n  onManuallySubmitted = () => {\n    console.log(\"onManuallySubmitted\")\n  }\n\n  onRecordingProgress = () => {\n    // console.log(\"onRecordingProgress\")\n    // this.setState({ showBg: true })\n  }\n\n  onAccessForbidden = () => {\n    console.log(\"onAccessForbidden\")\n  }\n\n  onAccessGranted = async () => {\n    console.log(\"onAccessGranted\")\n    await this.props.showBackground(true);\n    // this.setState({ showBg: true })\n  }\n\n  onCameraUnresponsive = () => {\n    console.log(\"onCameraUnresponsive\")\n  }\n\n  onVerified = e => {\n    console.log(\"onVerified\")\n    // console.log(e)\n    this.setState({ videoToken: e.video })\n    this.props.stopRecorder(e.video);\n  }\n\n  onNoCamera = () => {\n    console.log(\"onNoCamera\")\n  }\n\n  onNoMicrophone = () => {\n    console.log(\"onNoMicrophone\")\n  }\n\n  handleStart = () => {\n    // this.child.play();\n    this.child.record();\n    // this.child.upload();\n    // this.child.rerecord();\n    // this.child.stop();\n    // this.child.hidePopup();\n    // this.child.reset();\n\n    this.setState({ isStart: true });\n  }\n\n  handlStopRecorder = () => {\n    this.child.stop();\n    console.log(this.state.videoToken);\n    // this.child.upload();\n    this.props.stopRecorder(this.state.videoToken);\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <ZiggeoRecorder\n          apiKey={\"ca222df12203cee18e55562941948d8a\"}\n          // preventReRenderOnUpdate={false}\n          allowscreen={false}\n          allowrecord={true}\n          allowupload={false}\n          onRecording={this.recorderRecording}\n          onUploading={this.recorderUploading}\n          onUploaded={e => this.onUploaded(e)}\n          onAttached={e => this.onAttached(e)}\n          onUploadProgress={this.onUploadProgress}\n          onLoaded={e => this.onLoaded(e)}\n          onUploadSelected={this.onUploadSelected}\n          onRerecord={this.onRerecord}\n          onPlaying={e => this.onPlaying(e)}\n          onPaused={this.onPaused}\n          onEnded={e => this.onEnded(e)}\n          onSeek={e => this.onSeek(e)}\n          onError={e => this.onError(e)}\n          onManuallySubmitted={this.onManuallySubmitted}\n          onRecordingProgress={this.onRecordingProgress}\n          onAccessForbidden={this.onAccessForbidden}\n          onAccessGranted={this.onAccessGranted}\n          onCameraUnresponsive={this.onCameraUnresponsive}\n          onVerified={e => this.onVerified(e)}\n          onNoCamera={this.onNoCamera}\n          onNoMicrophone={this.onNoMicrophone}\n          theme={'modern'}\n          themecolor={'green'}\n          style={{ width: \"100%\" }}\n          className=\"zigg_recorder\"\n          onRef={ref => (this.child = ref)}\n        />\n        {/* <div className=\"action_recorder\">\n          <Button\n            className={`btn_stop ${classes.button}`}\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => this.handlStopRecorder()}\n          >\n            <Icon className={`icon_button ${classes.icon}`} >stop</Icon>\n            End Recorder\n          </Button>\n        </div> */}\n      </div>\n    )\n  }\n}\n\nRecorderVideo.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(RecorderVideo);"]},"metadata":{},"sourceType":"module"}
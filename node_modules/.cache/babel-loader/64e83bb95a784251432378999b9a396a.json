{"ast":null,"code":"import _classCallCheck from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/jobs/reactjs/recorded/recorded-video/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/html/jobs/reactjs/recorded/recorded-video/src/containers/Recorder.jsx\";\nimport React from \"react\";\nimport { ZiggeoRecorder, ZiggeoPlayer } from 'react-ziggeo'; // import PropTypes from 'prop-types';\n// import { withStyles } from '@material-ui/core/styles';\n\nimport { Button } from // Grid,\n// Paper,\n'@material-ui/core/';\nimport { AudioPlay } from \"../components\";\nimport { // audio,\n// adodda,\nquestion1, question2, question3, question4, question5 } from \"../assets/audio/index\";\nimport { AudioQuestion } from \"../components\";\n\nvar Recorder =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Recorder, _React$Component);\n\n  function Recorder(props) {\n    var _this;\n\n    _classCallCheck(this, Recorder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Recorder).call(this, props));\n\n    _this.componentWillMount = function () {};\n\n    _this.recorderRecording = function () {\n      console.log('Recorder onRecording');\n\n      _this.setState({\n        isPlayAudio: true\n      });\n    };\n\n    _this.recorderUploaded = function () {\n      console.log('Recorder onUploaded');\n\n      _this.setState({\n        showBg: false\n      });\n    };\n\n    _this.playing = function () {\n      console.log('it\\'s playing, your action here');\n    };\n\n    _this.paused = function () {\n      console.log('it\\'s paused, your action when pause');\n    };\n\n    _this.onUploaded = function (e) {\n      console.log(\"onUploaded\"); // console.log(e)\n      // this.setState({ videoToken: e.video })\n\n      _this.setState({\n        isPlayAudio: false\n      });\n\n      _this.setState({\n        showBg: false\n      });\n    };\n\n    _this.onAttached = function (e) {\n      console.log(\"onAttached\"); // console.log(e)\n      // this.setState({ showBg: true });\n      // this.setState({ isPlayAudio: true })\n    };\n\n    _this.onUploadProgress = function () {\n      console.log(\"onUploadProgress\");\n\n      _this.setState({\n        showBg: true\n      });\n    };\n\n    _this.onLoaded = function (e) {\n      console.log(\"onLoaded\"); // console.log(e)\n    };\n\n    _this.onUploadSelected = function () {\n      console.log(\"onUploadSelected\");\n    };\n\n    _this.onRerecord = function (e) {\n      console.log(\"onRerecord\"); // console.log(e)\n    };\n\n    _this.onPlaying = function (e) {\n      console.log(\"onPlaying\"); // console.log(e)\n\n      _this.setState({\n        showBg: true\n      });\n    };\n\n    _this.onPaused = function () {\n      console.log(\"onPaused\");\n    };\n\n    _this.onEnded = function (e) {\n      console.log(\"onEnded\"); // console.log(e)\n\n      _this.setState({\n        showBg: false\n      });\n    };\n\n    _this.onSeek = function (e) {\n      console.log(\"onSeek\"); // console.log(e)\n    };\n\n    _this.onError = function (e) {\n      console.log(\"onError\"); // console.log(e)\n    };\n\n    _this.onManuallySubmitted = function () {\n      console.log(\"onManuallySubmitted\");\n    };\n\n    _this.onRecordingProgress = function () {\n      // console.log(\"onRecordingProgress\")\n      _this.setState({\n        showBg: true\n      });\n    };\n\n    _this.onAccessForbidden = function () {\n      console.log(\"onAccessForbidden\");\n    };\n\n    _this.onAccessGranted = function () {\n      console.log(\"onAccessGranted\"); // this.setState({ showBg: true })\n    };\n\n    _this.onCameraUnresponsive = function () {\n      console.log(\"onCameraUnresponsive\");\n    };\n\n    _this.onVerified = function (e) {\n      console.log(\"onVerified\"); // console.log(e)\n\n      _this.setState({\n        videoToken: e.video\n      });\n    };\n\n    _this.onNoCamera = function () {\n      console.log(\"onNoCamera\");\n    };\n\n    _this.onNoMicrophone = function () {\n      console.log(\"onNoMicrophone\");\n    };\n\n    _this.handleStart = function () {\n      // this.child.play();\n      _this.child.record(); // this.child.upload();\n      // this.child.rerecord();\n      // this.child.stop();\n      // this.child.hidePopup();\n      // this.child.reset();\n\n\n      _this.setState({\n        isStart: true\n      });\n    };\n\n    _this.handleAsk = function () {\n      var srcAudio = _this.state.srcAudio;\n\n      if (srcAudio) {\n        var index = srcAudio.indexOf(\".\");\n        var value = Number(srcAudio.substring(index - 1, index)) + 1; // let value = srcAudio.substring(srcAudio.length - 5, srcAudio.length-4);\n\n        console.log(value);\n        value === 2 && _this.setState({\n          srcAudio: question2\n        });\n        value === 3 && _this.setState({\n          srcAudio: question3\n        });\n        value === 4 && _this.setState({\n          srcAudio: question4\n        });\n        value === 5 && _this.setState({\n          srcAudio: question5\n        });\n      } else {\n        _this.setState({\n          srcAudio: question1\n        });\n      }\n\n      _this.setState({\n        showAsk: true\n      });\n\n      _this.setState({\n        isDisabled: true\n      });\n    };\n\n    _this.endAsk = function () {\n      _this.setState({\n        isDisabled: false\n      });\n\n      _this.setState({\n        showAsk: false\n      });\n    };\n\n    _this.state = {\n      // video: \"http://embed-cdn.ziggeo.com/v1/applications/ca222df12203cee18e55562941948d8a/videos/896922acb3a142f409f40f2db329ece1/video.mp4?force_refresh=1541583240701\",\n      videoToken: null,\n      isStart: false,\n      showBg: false,\n      isPlayAudio: false,\n      srcAudio: null,\n      showAsk: false,\n      isDisabled: false\n    };\n    return _this;\n  }\n\n  _createClass(Recorder, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.child.record();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var styles = function styles(theme) {\n        return {\n          root: {\n            flexGrow: 1\n          },\n          paper: {\n            padding: theme.spacing.unit * 2,\n            textAlign: 'center',\n            color: theme.palette.text.secondary\n          }\n        };\n      };\n\n      var showBg = this.state.showBg;\n      return React.createElement(\"div\", {\n        className: \"recorderVideo\",\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, showBg && React.createElement(\"div\", {\n        className: \"recorderBg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), !this.state.videoToken && React.createElement(ZiggeoRecorder, {\n        apiKey: \"ca222df12203cee18e55562941948d8a\",\n        allowscreen: false,\n        allowrecord: true,\n        allowupload: false,\n        onRecording: this.recorderRecording,\n        onUploading: this.recorderUploading,\n        onUploaded: function onUploaded(e) {\n          return _this2.onUploaded(e);\n        },\n        onAttached: function onAttached(e) {\n          return _this2.onAttached(e);\n        },\n        onUploadProgress: this.onUploadProgress,\n        onLoaded: function onLoaded(e) {\n          return _this2.onLoaded(e);\n        },\n        onUploadSelected: this.onUploadSelected,\n        onRerecord: this.onRerecord,\n        onPlaying: function onPlaying(e) {\n          return _this2.onPlaying(e);\n        },\n        onPaused: this.onPaused,\n        onEnded: function onEnded(e) {\n          return _this2.onEnded(e);\n        },\n        onSeek: function onSeek(e) {\n          return _this2.onSeek(e);\n        },\n        onError: function onError(e) {\n          return _this2.onError(e);\n        },\n        onManuallySubmitted: this.onManuallySubmitted,\n        onRecordingProgress: this.onRecordingProgress,\n        onAccessForbidden: this.onAccessForbidden,\n        onAccessGranted: this.onAccessGranted,\n        onCameraUnresponsive: this.onCameraUnresponsive,\n        onVerified: function onVerified(e) {\n          return _this2.onVerified(e);\n        },\n        onNoCamera: this.onNoCamera,\n        onNoMicrophone: this.onNoMicrophone,\n        theme: 'modern',\n        themecolor: 'green',\n        style: {\n          width: \"100%\"\n        },\n        onRef: function onRef(ref) {\n          return _this2.child = ref;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), this.state.videoToken && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(ZiggeoPlayer, {\n        apiKey: \"0d668f2e730cac445575fe7cb0eba36e\",\n        \"ziggeo-video\": this.state.videoToken,\n        video: this.state.videoToken,\n        theme: 'modern',\n        themecolor: 'green',\n        skipinitial: false,\n        onPlaying: function onPlaying(e) {\n          return _this2.onPlaying(e);\n        },\n        onPaused: function onPaused(e) {\n          return _this2.onPaused(e);\n        },\n        onAttached: function onAttached(e) {\n          return _this2.onAttached(e);\n        },\n        onLoaded: function onLoaded(e) {\n          return _this2.onLoaded(e);\n        },\n        onEnded: function onEnded(e) {\n          return _this2.onEnded(e);\n        },\n        onError: function onError(e) {\n          return _this2.onError(e);\n        },\n        onSeek: function onSeek(e) {\n          return _this2.onSeek(e);\n        } // onRef={ref => (this.child = ref)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      })), this.state.isPlayAudio && React.createElement(AudioPlay, {\n        isPlayAudio: this.state.isPlayAudio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), this.state.isPlayAudio && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: this.state.isDisabled,\n        className: styles.button,\n        onClick: function onClick() {\n          return _this2.handleAsk();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"ASK\")), this.state.showAsk && React.createElement(AudioQuestion, {\n        srcAudio: this.state.srcAudio,\n        endAsk: this.endAsk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Recorder;\n}(React.Component);\n\nexport default Recorder;","map":{"version":3,"sources":["/var/www/html/jobs/reactjs/recorded/recorded-video/src/containers/Recorder.jsx"],"names":["React","ZiggeoRecorder","ZiggeoPlayer","Button","AudioPlay","question1","question2","question3","question4","question5","AudioQuestion","Recorder","props","componentWillMount","recorderRecording","console","log","setState","isPlayAudio","recorderUploaded","showBg","playing","paused","onUploaded","e","onAttached","onUploadProgress","onLoaded","onUploadSelected","onRerecord","onPlaying","onPaused","onEnded","onSeek","onError","onManuallySubmitted","onRecordingProgress","onAccessForbidden","onAccessGranted","onCameraUnresponsive","onVerified","videoToken","video","onNoCamera","onNoMicrophone","handleStart","child","record","isStart","handleAsk","srcAudio","state","index","indexOf","value","Number","substring","showAsk","isDisabled","endAsk","styles","theme","root","flexGrow","paper","padding","spacing","unit","textAlign","color","palette","text","secondary","recorderUploading","width","ref","button","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { ZiggeoRecorder, ZiggeoPlayer } from 'react-ziggeo';\n// import PropTypes from 'prop-types';\n// import { withStyles } from '@material-ui/core/styles';\nimport {\n  Button,\n  // Grid,\n  // Paper,\n} from '@material-ui/core/';\nimport { AudioPlay } from \"../components\";\nimport {\n  // audio,\n  // adodda,\n  question1,\n  question2,\n  question3,\n  question4,\n  question5,\n} from \"../assets/audio/index\";\nimport { AudioQuestion } from \"../components\";\n\nclass Recorder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // video: \"http://embed-cdn.ziggeo.com/v1/applications/ca222df12203cee18e55562941948d8a/videos/896922acb3a142f409f40f2db329ece1/video.mp4?force_refresh=1541583240701\",\n      videoToken: null,\n      isStart: false,\n      showBg: false,\n      isPlayAudio: false,\n      srcAudio: null,\n      showAsk: false,\n      isDisabled: false,\n    };\n  }\n\n  componentWillMount = () => {\n  }\n\n  componentDidMount(){\n    // this.child.record();\n  }\n\n  recorderRecording = () => {\n    console.log('Recorder onRecording');\n    this.setState({ isPlayAudio: true });\n\n  };\n\n  recorderUploaded = () => {\n    console.log('Recorder onUploaded');\n    this.setState({ showBg: false });\n  };\n\n  playing = () => {\n    console.log('it\\'s playing, your action here');\n  };\n\n  paused = () => {\n    console.log('it\\'s paused, your action when pause');\n  };\n\n  onUploaded = e => {\n    console.log(\"onUploaded\")\n    // console.log(e)\n    // this.setState({ videoToken: e.video })\n    this.setState({ isPlayAudio: false });\n    this.setState({ showBg: false });\n  }\n\n  onAttached = e => {\n    console.log(\"onAttached\")\n    // console.log(e)\n    // this.setState({ showBg: true });\n    // this.setState({ isPlayAudio: true })\n  }\n\n  onUploadProgress = () => {\n    console.log(\"onUploadProgress\")\n    this.setState({ showBg: true });\n  }\n\n  onLoaded = e => {\n    console.log(\"onLoaded\")\n    // console.log(e)\n  }\n\n  onUploadSelected = () => {\n    console.log(\"onUploadSelected\")\n  }\n\n  onRerecord = e => {\n    console.log(\"onRerecord\")\n    // console.log(e)\n  }\n\n  onPlaying = e => {\n    console.log(\"onPlaying\")\n    // console.log(e)\n    this.setState({ showBg: true })\n  }\n\n  onPaused = () => {\n    console.log(\"onPaused\")\n  }\n\n  onEnded = e => {\n    console.log(\"onEnded\")\n    // console.log(e)\n    this.setState({ showBg: false })\n  }\n\n  onSeek = e => {\n    console.log(\"onSeek\")\n    // console.log(e)\n  }\n\n  onError = e => {\n    console.log(\"onError\")\n    // console.log(e)\n  }\n\n  onManuallySubmitted = () => {\n    console.log(\"onManuallySubmitted\")\n  }\n\n  onRecordingProgress = () => {\n    // console.log(\"onRecordingProgress\")\n    this.setState({ showBg: true })\n  }\n\n  onAccessForbidden = () => {\n    console.log(\"onAccessForbidden\")\n  }\n\n  onAccessGranted = () => {\n    console.log(\"onAccessGranted\")\n    // this.setState({ showBg: true })\n  }\n\n  onCameraUnresponsive = () => {\n    console.log(\"onCameraUnresponsive\")\n  }\n\n  onVerified = e => {\n    console.log(\"onVerified\")\n    // console.log(e)\n    this.setState({ videoToken: e.video })\n  }\n\n  onNoCamera = () => {\n    console.log(\"onNoCamera\")\n  }\n\n  onNoMicrophone = () => {\n    console.log(\"onNoMicrophone\")\n  }\n\n  handleStart = () => {\n    // this.child.play();\n    this.child.record();\n    // this.child.upload();\n    // this.child.rerecord();\n    // this.child.stop();\n    // this.child.hidePopup();\n    // this.child.reset();\n\n    this.setState({ isStart: true });\n  }\n\n  handleAsk = () => {\n    const { srcAudio } = this.state;\n\n    if (srcAudio) {\n      let index = srcAudio.indexOf(\".\");\n      let value = Number(srcAudio.substring(index - 1, index)) + 1;\n      // let value = srcAudio.substring(srcAudio.length - 5, srcAudio.length-4);\n      console.log(value)\n      value === 2 && this.setState({ srcAudio: question2 });\n      value === 3 && this.setState({ srcAudio: question3 });\n      value === 4 && this.setState({ srcAudio: question4 });\n      value === 5 && this.setState({ srcAudio: question5 });\n    } else {\n      this.setState({ srcAudio: question1 });\n    }\n    this.setState({ showAsk: true });\n    this.setState({ isDisabled: true })\n  }\n\n  endAsk = () => {\n    this.setState({ isDisabled: false });\n    this.setState({ showAsk: false });\n  }\n\n  render() {\n\n    const styles = theme => ({\n      root: {\n        flexGrow: 1,\n      },\n      paper: {\n        padding: theme.spacing.unit * 2,\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n      },\n    });\n\n    const { showBg } = this.state;\n\n    return (\n      <div className={`recorderVideo`} style={{ textAlign: 'center' }}>\n        {/* <Button variant=\"contained\" color=\"primary\" onClick={ () => this.handleStart() } >Start Recorder</Button> */}\n\n        {\n          showBg && <div className=\"recorderBg\"></div>\n        }\n\n        {\n          !this.state.videoToken &&\n          <ZiggeoRecorder\n            apiKey={\"ca222df12203cee18e55562941948d8a\"}\n            allowscreen={false}\n            allowrecord={true}\n            allowupload={false}\n            onRecording={this.recorderRecording}\n            onUploading={this.recorderUploading}\n            onUploaded={e => this.onUploaded(e)}\n            onAttached={e => this.onAttached(e)}\n            onUploadProgress={this.onUploadProgress}\n            onLoaded={e => this.onLoaded(e)}\n            onUploadSelected={this.onUploadSelected}\n            onRerecord={this.onRerecord}\n            onPlaying={e => this.onPlaying(e)}\n            onPaused={this.onPaused}\n            onEnded={e => this.onEnded(e)}\n            onSeek={e => this.onSeek(e)}\n            onError={e => this.onError(e)}\n            onManuallySubmitted={this.onManuallySubmitted}\n            onRecordingProgress={this.onRecordingProgress}\n            onAccessForbidden={this.onAccessForbidden}\n            onAccessGranted={this.onAccessGranted}\n            onCameraUnresponsive={this.onCameraUnresponsive}\n            onVerified={e => this.onVerified(e)}\n            onNoCamera={this.onNoCamera}\n            onNoMicrophone={this.onNoMicrophone}\n            theme={'modern'}\n            themecolor={'green'}\n            style={{ width: \"100%\" }}\n            onRef={ref => (this.child = ref)}\n          />\n        }\n\n        {\n          this.state.videoToken &&\n          <div>\n            {/* <span>{this.state.videoToken}</span> */}\n            <ZiggeoPlayer\n              apiKey={\"0d668f2e730cac445575fe7cb0eba36e\"}\n              ziggeo-video={this.state.videoToken}\n              video={this.state.videoToken}\n              theme={'modern'}\n              themecolor={'green'}\n              skipinitial={false}\n              onPlaying={e => this.onPlaying(e)}\n              onPaused={e => this.onPaused(e)}\n              onAttached={e => this.onAttached(e)}\n              onLoaded={e => this.onLoaded(e)}\n              onEnded={e => this.onEnded(e)}\n              onError={e => this.onError(e)}\n              onSeek={e => this.onSeek(e)}\n            // onRef={ref => (this.child = ref)}\n            />\n          </div>\n        }\n\n        {\n          this.state.isPlayAudio && <AudioPlay isPlayAudio={this.state.isPlayAudio} />\n        }\n\n        {\n          this.state.isPlayAudio &&\n          <div>\n            <Button variant=\"contained\" color=\"secondary\" disabled={this.state.isDisabled} className={styles.button} onClick={() => this.handleAsk()} >ASK</Button>\n          </div>\n        }\n\n        {\n          this.state.showAsk && <AudioQuestion srcAudio={this.state.srcAudio} endAsk={this.endAsk} />\n        }\n\n\n      </div>\n    )\n  }\n}\n\nexport default Recorder;"]},"metadata":{},"sourceType":"module"}